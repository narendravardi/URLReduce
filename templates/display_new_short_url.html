{% extends "parent.html" %}
{% block display_shorten_url %}
<div class="container">
  <div class="row">
  <div class="col-lg-offset-3 col-lg-6">
    <div class="input-group">
      <span class="input-group-btn">
        <button class="btn btn-success" type="button">Shortened URL</button>
      </span>
      <input type="text" class="form-control js-copytextarea" value={{ short_url }} readonly="readonly" id="url">
      <span class="input-group-btn">
        <button class="btn btn-secondary js-textareacopybtn" type="button"><i class="fa fa-clipboard"></i>Copy</button>
      </span>
    </div>
  </div>
</div>
</div>
<script type="text/javascript">
//http://stackoverflow.com/a/6055620
var copyTextareaBtn = document.querySelector('.js-textareacopybtn');
if (copyTextareaBtn){
	copyTextareaBtn.addEventListener('click', function(event) {
	  var copyTextarea = document.querySelector('.js-copytextarea');
	  copyTextarea.select();
	  try {
		var successful = document.execCommand('copy');
		var msg = successful ? 'successful' : 'unsuccessful';
		console.log('Copying text command was ' + msg);
	  } catch (err) {
		console.log('Oops, unable to copy');
	  }
	});
}
</script>
{% endblock %}

